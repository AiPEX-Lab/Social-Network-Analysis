{%extends './base_generic.html' %}
{%block content%}
{% load static %}

<!-- Navigation bar -->
<nav class="navbar border-bottom border-grey sticky-top navbar-expand-lg navbar-light" style="background-color: #fff;">
	<div class="navbar-collapse collapse justify-content-between">
    	<ul class="navbar-nav mr-auto">
    			<li class="nav-item active">
    				<a class="nav-link" href="../"><i class="fas fa-home" style="color:#8CCEF9;"></i> Home</a>
    			</li>
    			<li>
    				<a class="nav-link" href="/notification/"><i class="fas fa-bell" style="color:#8CCEF9;"></i> Notifications</a>

    			</li>
    			<li>
    				<a class="nav-link" href="#"><i class="fas fa-envelope" style="color:#8CCEF9;"></i> Messages</a>
    			</li>
    	</ul>
		<a class="navbar-brand" href="#">
			
			<img src= "{% static 'images/logo.jpg' %}" width="80" height="40">
			

		</a>

    	<ul class="navbar-nav">
				
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fas fa-cogs" style="color:#8CCEF9;"></i> More Options</a>
					<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
						<a class="dropdown-item" href="/create/">Profile</a>
						<a class="dropdown-item" href="#">Settings</a>
						<a class="dropdown-item" href="/logout/">Logout</a>
					</div>
				</li>
				 <form class="form-inline">
    			<input class="form-control mr-sm-2" type="search" placeholder="Search Twitter" aria-label="Search">
    			
  				</form>
				<a class="btn btn-outline-info" href="/create/" role="button">Tweet</a>
			</ul>
		</div>
	</div>
</nav>

<!-- Body of Home Page -->
<div class='container'>
	<div class="row justify-content-md-center">
		<!-- 1st column -->
		<div class="col-md-auto" style='background-color:#fff;'>
			<h3 align="center"><span style="padding-right: 10px; padding-left:10px;"> Who to follow </span></h3>
			<hr/>
			{%for eachuser in numfollowers %}
			<form action='' method="post">
			{%csrf_token%}
			<div align="center">
			<strong>
			{{eachuser.0}}
			</strong>
			</div>
			<div align="center">
			{{ eachuser.1 }} Followers
			</div>
			<br/>	
			<div align="center">
			<button type="submit" name="follows"  value={{eachuser.0}} class="btn btn-outline-info btn-sm">Follow</button>

			
			</div>
			</form>
			<hr/>
			{%endfor%}
		</div>
		<!-- 2nd column -->
 		<div class="col-6" style='background-color:#fff; margin-right: 10px; margin-left: 10px'>
 
			{% for eachpost in posts %}
			<br/>
			<p align="center"><strong>@{{eachpost.author}}</strong> on <em>{{eachpost.created_date}}</em></p>
			<!-- <p align="center"> Title: {{eachpost.title}} </p> -->
			<!--<p align="center">{{eachpost.text}}</p>-->
			<video width="320" height="240" controls>
				<source src="{{ MEDIA_URL }}/videos/{{eachpost.videoname}}" type="video/mp4">
			</video>

			<br/>
			{% for comment in comments%}
			{% if comment.post == eachpost%}
			<p align="center"><strong>Comment by @{{comment.author}}:</strong> {{comment.text}}</p>
			{% endif %}
			{% endfor%}


			<form class = '' method='post'>
			{%csrf_token%}
			<div class='input-field' align="center">
				<input id={{eachpost.id}} type='text' name='placeholder'>
				<label for={{eachpost.id}}> <i class="fas fa-comment-alt"></i> </label>
			</div>
			<input type='submit'  name='submit' value={{eachpost.id}} style='position:absolute;left:-99999px'/>
			</form>
			<br/>

			
			<form action='' method='post'>
			{%csrf_token%}
			<button  type='submit' name ='unique' value={{eachpost.id}}  style='float:right;margin:0;background:none;border:none;'>{{eachpost.likes}} <i class="fas fa-heart" style="color:#DE1278;"></i>
			</button>
			</form>

			<form action='' method='post'>
				{%csrf_token%}
				<div align="center">
				<button type='submit' name='share' value={{eachpost.id}} class="btn-info btn-sm"><i class="fas fa-retweet">  Retweet</i></button>
				</div>
			</form>
			
			<hr/>
			{% endfor %}
		</div>
	
		<!-- column 3 -->
		<div class="col-md-auto" style='background-color:#fff;'>
			<h2 align="center" > <span style="padding-right: 10px; padding-left:10px;">Following</span> </h2>
			<hr/>
			{% for follower in FOLLOWING%}
			<form action='' method='post'>
			{%csrf_token%}
			<div align="center">
			<strong>
				{{follower}}
			</strong>
			</div>
			<br/>
			<div align="center">
			<button type="submit" name="follow" value="{{follower}}" class="btn btn-outline-info btn-sm">Unfollow</button>
			</div>
			</form>
			<hr/>
			
			{% endfor%}
		</div>
	</div>
	</div>
			{%endblock%}

